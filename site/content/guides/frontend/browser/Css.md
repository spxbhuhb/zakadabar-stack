# CSS and Theming

Check the demo example: [Themes](../../../../../demo/demo-lib/src/jsMain/kotlin/zakadabar/demo/frontend/lib/themes)

| class | use |
| ----- | --- |
| [ZkApplication](../../../../../core/src/jsMain/kotlin/zakadabar/stack/frontend/application/ZkApplication.kt) | `theme` property  stores the active theme |
| [ZkTheme](../../../../../core/src/jsMain/kotlin/zakadabar/stack/frontend/resources/ZkTheme.kt) | interface for themes |
| [ZkCssStyleSheet](../../../../../core/src/jsMain/kotlin/zakadabar/stack/frontend/resources/css/ZkCssStyleSheet.kt) | CSS style sheet builder / manager |
| [ZkColors](../../../../../core/src/jsMain/kotlin/zakadabar/stack/frontend/resources/ZkColors.kt) | Color constants (Material) |
| [ZkIcons](../../../../../core/src/jsMain/kotlin/zakadabar/stack/frontend/resources/ZkIcons.kt) | Icons (Material) |
| [ZkFormatters](../../../../../core/src/jsMain/kotlin/zakadabar/stack/frontend/resources/ZkFormatters.kt) | Formatters (data -> string) |

## Theme

* Themes define values used by style sheets.
* Each style sheet can access the current theme in the `theme` property
  of [ZkApplication](../../../../../core/src/jsMain/kotlin/zakadabar/stack/frontend/application/ZkApplication.kt)
* Changing the theme:
    * rebuilds all attached style sheets.
    * **does not** re-render the page.
* Built-in themes:
    * [ZkBuiltinLightTheme](../../../../../core/src/jsMain/kotlin/zakadabar/stack/frontend/builtin/theme/ZkBuiltinLightTheme.kt)
        - light theme
    * [ZkBuiltinDarkTheme](../../../../../core/src/jsMain/kotlin/zakadabar/stack/frontend/builtin/theme/ZkBuiltinDarkTheme.kt)
        - dark theme
    * [ZkBuiltinContrastTheme](../../../../../core/src/jsMain/kotlin/zakadabar/stack/frontend/builtin/theme/ZkBuiltinContrastTheme.kt)
        - high contrast theme

### Change the Theme

```kotlin
ZkApplication.theme = ZkBuildinLightTheme()
```

## Write a CSS Style Sheet

CSS style sheets are typically objects
extending [ZkCssStyleSheet](../../../../../core/src/jsMain/kotlin/zakadabar/stack/frontend/resources/css/ZkCssStyleSheet.kt):

```kotlin
/**
 * CSS styles are usually defined in objects.
 */
object DemoStyles : ZkCssStyleSheet() {

    // Define a style. The actual name of the CSS class is generated by
    // the stack and is stored in this variable.

    val exampleStyle by cssClass {

        // You can use pre-defined helpers to access most properties

        color = ZkColors.Red.c600
        backgroundColor = ZkColors.Gray.c300

        // If there is no helper, just add directly to [styles]

        styles["font-family"] = "monospace"

        // Some pseudo classes have helpers

        hover {
            color = ZkColors.white
        }

        // For the ones without helper use [on]

        on(":disabled") {
            color = ZkColors.white
        }
        
        // You can use media queries with [media]

        media("(min-width: 800px)") {
            width = 300
        }

        // You can use [on] directly for media queries

        on(media = "(min-width: 1200px)") {
            width = 600
        }
        
        // Convenience for media queries

        // small = (max-width: 600px)
        // medium = (min-width: 800px)
        // large = (min-width: 1200px)
        
        small {
            fontSize = 12
        }
        
        medium {
            fontSize = 14
        }
        
        large {
            fontSize = 16
        }

    }

    // Call [attach] to add the style sheet to the document. Without this the
    // style sheet is not known by the browser. For commonly used style sheets
    // [init] is fine, but you can dynamically attach / detach styles sheets
    // with the appropriate method call.

    init {
        attach()
    }

}
```

## Use a CSS Class

```kotlin
// You can pass the CSS class to most builder methods

+ div(DemoStyles.exampleStyle) {
    + "Styled content"
} marginBottom 20

// For ZkElements you can use the [css] inline function

+ ZkButton("button 1") css DemoStyles.exampleButtonStyle marginBottom 20

// Use [className] to replace ALL classes

+ ZkButton("button 2") build {
    className = DemoStyles.exampleButtonStyle
} marginBottom 20

// Use [classList] to manipulate the class list

+ ZkButton("button 3") build {
    classList += DemoStyles.exampleButtonStyle
    classList -= DemoStyles.exampleButtonStyle
    classList += DemoStyles.exampleButtonStyle
} marginBottom 20
```

## Replace CSS Style Sheets

Use the `merge` method to update a CSS style sheet.

```kotlin
DemoStyles.merge(DemoRedStyles())
```

